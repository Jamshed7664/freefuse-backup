<headerone></headerone>
<sideMenu></sideMenu>
<spinner *ngIf="spinner"  ></spinner>
<section class="my-videos">
    <div class=" custom-container">
        <div class="row">
            <div class="col-12">
                <h5 class="top-heading">My Videos ({{mainVideoList.length}})</h5>
                <p class="drafts" style="font-size: 18px;" *ngIf="drafts.length > 0">Drafts ({{drafts.length}}) <a (click)="viewAll()" class="view-all" *ngIf="drafts.length > 3">View All</a></p>
            </div>
        </div> 

        <!-- Unpublished videos -->
        <div class="row draft-row" *ngIf="drafts.length > 0">
            <div class="col-lg-3" *ngFor="let item of intialDraft" style="margin-bottom: 10px;">
                <div class="class-hover">
                    <img src="{{item.poster}}" id="{{item._id}}" class="poster" thumnailsDirective >

                    <div class="over" style="right: 0;">
                        <span>
                                <img style="width: 17px; height: 17;" src="../../../assets/images/landing/video-decisions.svg">
                            {{item.totalchild}}</span>
                        <span>
                                <img style="width: 17px; height: 17;" src="../../../assets/images/landing/video-outcomes.svg">
                            {{item.totallevel}}</span>
                    </div>
                        
                    <div class="hove-one animations">
                        <a class="animations" (click)="edit(item._id)">
                                <svg class="bi bi-box-arrow-in-right" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8.146 11.354a.5.5 0 010-.708L10.793 8 8.146 5.354a.5.5 0 11.708-.708l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708 0z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M1 8a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9A.5.5 0 011 8z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M13.5 14.5A1.5 1.5 0 0015 13V3a1.5 1.5 0 00-1.5-1.5h-8A1.5 1.5 0 004 3v1.5a.5.5 0 001 0V3a.5.5 0 01.5-.5h8a.5.5 0 01.5.5v10a.5.5 0 01-.5.5h-8A.5.5 0 015 13v-1.5a.5.5 0 00-1 0V13a1.5 1.5 0 001.5 1.5h8z" clip-rule="evenodd"/>
                                    </svg><br>
                            Edit</a>
                        <a class="animations" (click)="publish(item)">
                                <svg class="bi bi-box-arrow-in-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M8 15a.5.5 0 00.5-.5v-9a.5.5 0 00-1 0v9a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M1.5 2.5A1.5 1.5 0 013 1h10a1.5 1.5 0 011.5 1.5v8A1.5 1.5 0 0113 12h-1.5a.5.5 0 010-1H13a.5.5 0 00.5-.5v-8A.5.5 0 0013 2H3a.5.5 0 00-.5.5v8a.5.5 0 00.5.5h1.5a.5.5 0 010 1H3a1.5 1.5 0 01-1.5-1.5v-8z" clip-rule="evenodd"/>
                                  </svg>
                                  <br>
                            Publish</a>
                        <a class="animations" (click)="delete(item._id)">
                                <svg class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                    <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/>
                                  </svg><br>
                            Delete</a>
                    </div>
                </div>
                <h6>{{item.Title}}</h6>
                <p>Autosaved {{item.createdAt | dateAgo}}</p>
                <!-- <p>{{item.createdAt |  date: 'MM/dd/yyyy'}}</p> -->
                <div *ngIf="item.contributors">
                    <span *ngFor="let c of item.contributors">  
                        <img *ngIf="c.profilepic" src="{{c.profilepic}}" class="contributor-modal" >
                        <span class="profile-image" *ngIf="!c.profilepic" imgName  title="{{c.firstname}},{{c.lastname}}" style="border-radius:50%;width: 25px;height: 25px"></span>
                    </span>
                
                </div>
                <!-- <p class="view-contributors" (click)="showModal(item._id)" *ngIf="item.contributors.length>3">View all</p> -->

                
            </div>
            <!-- <div class="col-4"></div> -->
            <!-- <div class="col-4"></div> -->
        </div>

        <!-- Contributor Videos -->
        <div class="row" *ngIf="contributorVideos.length">
            <div class="col-12">
                <!-- <h5 class="top-heading">Contributor Videos ({{contributorVideos.length}})</h5> -->
                <p class="drafts" style="font-size: 18px;" *ngIf="contributorVideos.length > 0">
                    Contributor Videos ({{contributorVideos.length}}) 
                    <a (click)="viewAllCollaborations()" class="view-all" *ngIf="contributorVideos.length > 3">
                        View All
                    </a>
                </p>
            </div>
        </div>

        <!-- <button></button>Show More</button> -->


        <div class="row draft-row" *ngIf="contributorVideos.length > 0">
            <div class="col-lg-3" *ngFor="let item of contributorVideos" style="margin-bottom: 10px;">
                <div class="class-hover">
                    <img src="{{item.poster}}" id="{{item._id}}" class="poster" thumnailsDirective>

                    <div class="over" style="right: 0;">
                        <span>
                            <img style="width: 17px; height: 17;" src="../../../assets/images/landing/video-decisions.svg">
                            {{item.totalchild}}</span>
                        <span>
                            <img style="width: 17px; height: 17;" src="../../../assets/images/landing/video-outcomes.svg">
                            {{item.totallevel}}</span>
                    </div>
                        
                    <div class="hove-one animations">
                        <a class="animations" (click)="edit(item._id)">
                            <svg class="bi bi-box-arrow-in-right" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8.146 11.354a.5.5 0 010-.708L10.793 8 8.146 5.354a.5.5 0 11.708-.708l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708 0z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M1 8a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9A.5.5 0 011 8z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M13.5 14.5A1.5 1.5 0 0015 13V3a1.5 1.5 0 00-1.5-1.5h-8A1.5 1.5 0 004 3v1.5a.5.5 0 001 0V3a.5.5 0 01.5-.5h8a.5.5 0 01.5.5v10a.5.5 0 01-.5.5h-8A.5.5 0 015 13v-1.5a.5.5 0 00-1 0V13a1.5 1.5 0 001.5 1.5h8z" clip-rule="evenodd"/>
                            </svg>
                            <br>
                            Edit
                        </a>
                        <a class="animations" (click)="publish(item)">
                            <svg class="bi bi-box-arrow-in-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 15a.5.5 0 00.5-.5v-9a.5.5 0 00-1 0v9a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M1.5 2.5A1.5 1.5 0 013 1h10a1.5 1.5 0 011.5 1.5v8A1.5 1.5 0 0113 12h-1.5a.5.5 0 010-1H13a.5.5 0 00.5-.5v-8A.5.5 0 0013 2H3a.5.5 0 00-.5.5v8a.5.5 0 00.5.5h1.5a.5.5 0 010 1H3a1.5 1.5 0 01-1.5-1.5v-8z" clip-rule="evenodd"/>
                            </svg>
                            <br>
                            Publish
                        </a>
                        <a class="animations" (click)="delete(item._id)">
                            <svg class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/>
                            </svg>
                            <br>
                            Delete
                        </a>
                    </div>
                </div>
                <h6>{{item.Title}}</h6>
                <p>Autosaved {{item.createdAt | dateAgo}}</p>
                <p *ngIf="item.isPublished">State: Published</p>
                <p *ngIf="!item.isPublished">State: Draft</p>
                <!-- <p>{{item.createdAt |  date: 'MM/dd/yyyy'}}</p> -->
                <!-- <div *ngIf="item.contributors">
                    <span *ngFor="let c of item.contributors">  
                        <img *ngIf="c.profilepic" src="{{c.profilepic}}" class="contributor-modal">
                        <span class="profile-image" *ngIf="!c.profilepic" imgName  title="{{c.firstname}},{{c.lastname}}" style="border-radius:50%"></span>
                    </span>
                </div> -->
                <!-- <p class="view-contributors" (click)="showModal(item._id)" *ngIf="item.contributors.length>3">View all</p> -->

                
            </div>
            <!-- <div class="col-4"></div> -->
            <!-- <div class="col-4"></div> -->
        </div>
        



        <!-- Published Videos -->
        <div class="row">
            <div class="col-lg-8">
                <h5>Published ({{publishedVideos.length}})</h5>
                <p>This list includes all videos you are working on</p>
            </div>
            
            <div class="col-lg-4 like-cmt-select">
                <select class="btn border shadow-none w-100 position-relative pb-0" (change)="changeFilter(val)" name="changeFilterUploadVideo" [(ngModel)]="val">
                    <option value="recent">Most Recent</option>
                    <option value="viewed">Most Viewed</option>
                    <option value="interactive">Most Interactive</option>
                    <option value="comment">Most Commented</option>
                </select>
                <span>Sort</span>
                <button type="button" class="btn shadow-none"><span></span></button>
            </div>
        </div>
        <div class="row" *ngFor="let video of sortedPublishedVideos">
            <div class="col-12 video-container animations">
                <div class="row">
                    <div class="col-lg-3">
                        <img src="{{video.poster}}" thumnailsDirective id="{{video._id}}"  class="poster" (click)="showVideo(video._id)">
                        <div class="over" >
                                <span>
                                        <img style="height: 14px;" src="../../../assets/images/landing/video-decisions.svg">
                                    {{video.totalchild}}</span>
                                <span>
                                        <img style="height: 14px;" src="../../../assets/images/landing/video-outcomes.svg">
                                    {{video.totallevel}}</span>
                            </div>
                    </div>
                    <div class="col-lg-6">
                        <h5>{{video.Title}}</h5>
                        <p>Published by you, {{video.publishTime | date:'MM/dd/yyyy'}}</p>
                        <div *ngIf="video.Categories.length">
                            <span *ngFor="let c of video.Categories" class="cateogyclass animations class0" (click)="showCategory(c)">{{c}}</span>
                        </div>
                        <div *ngIf="video.contributors">
                            <p style="color: #000; font-weight: bold;" *ngIf="video.contributors.length">
                                Contributed by: {{video.contributors.length}}
                            </p>
                        </div>
                        <!-- <span *ngFor="let c of video.Categories" class="cateogyclass animations" (click)="showCategory(c)">{{c}}</span> -->
                        
                        <p>{{video.Description}}</p>
                    </div>
                    <div class="col-lg-3 animations">
                        <ul class="published-options animations">
                            <li>
                                <a (click)="edit(video._id)">
                                    <svg class="bi bi-box-arrow-in-right" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M8.146 11.354a.5.5 0 010-.708L10.793 8 8.146 5.354a.5.5 0 11.708-.708l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708 0z" clip-rule="evenodd"/>
                                        <path fill-rule="evenodd" d="M1 8a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9A.5.5 0 011 8z" clip-rule="evenodd"/>
                                        <path fill-rule="evenodd" d="M13.5 14.5A1.5 1.5 0 0015 13V3a1.5 1.5 0 00-1.5-1.5h-8A1.5 1.5 0 004 3v1.5a.5.5 0 001 0V3a.5.5 0 01.5-.5h8a.5.5 0 01.5.5v10a.5.5 0 01-.5.5h-8A.5.5 0 015 13v-1.5a.5.5 0 00-1 0V13a1.5 1.5 0 001.5 1.5h8z" clip-rule="evenodd"/>
                                        </svg>

                                    Edit Video
                                </a>
                            </li>
                            <li>
                                <a (click)="delete(video._id)">
                                    <svg class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                        <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/>
                                      </svg> Delete 
                                </a>
                            </li>
                            <li>
                                <a (click)="showVideo(video._id)" class="icon">
                                    <svg version="1.1" width="1em" height="1em" id="icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                                    viewBox="0 0 24 24.228" style="enable-background:new 0 0 24 24.228;" xml:space="preserve">
                                        <path d="M21,0H3C1.346,0,0,1.346,0,3v13c0,1.654,1.346,3,3,3h1v5.228L9.88,19H21c1.654,0,3-1.346,3-3V3C24,1.346,22.654,0,21,0z
	                                        M22,16c0,0.551-0.448,1-1,1H9.12L6,19.773V17H3c-0.552,0-1-0.449-1-1V3c0-0.551,0.448-1,1-1h18c0.552,0,1,0.449,1,1V16z"/>
                                        <rect x="5" y="6" width="14" height="2"/>
                                        <rect x="5" y="10" width="9.958" height="2"/>
                                    </svg>
                                    Comments
                                </a>
                            </li>

                            <li>
                                <a (click)="showAnalytics(video)" class="icon">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bar-chart-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <rect width="4" height="5" x="1" y="10" rx="1"/>
                                        <rect width="4" height="9" x="6" y="6" rx="1"/>
                                        <rect width="4" height="14" x="11" y="1" rx="1"/>
                                      </svg>
                                    Analytics
                                </a>
                            </li>
                            <li>
                                <a (click)="showModal(video._id)" class="icon" data-toggle="modal" data-target="#exampleModal">
                                    <!-- <svg class="bi bi-chat-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M14 1H2a1 1 0 00-1 1v8a1 1 0 001 1h2.5a2 2 0 011.6.8L8 14.333 9.9 11.8a2 2 0 011.6-.8H14a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v8a2 2 0 002 2h2.5a1 1 0 01.8.4l1.9 2.533a1 1 0 001.6 0l1.9-2.533a1 1 0 01.8-.4H14a2 2 0 002-2V2a2 2 0 00-2-2H2z" clip-rule="evenodd"/>
                                    </svg> -->
                                    <svg  width="1em" height="1em" version="1.1" id="icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                                    viewBox="0 0 24 20" style="enable-background:new 0 0 24 20;" xml:space="preserve">
                                        <path d="M20,3c0-1.654-1.346-3-3-3H7C5.346,0,4,1.346,4,3v1.999h2V3c0-0.551,0.448-1,1-1h10c0.552,0,1,0.449,1,1v10
	                                        c0,0.551-0.448,1-1,1h-5v2h5c1.654,0,3-1.346,3-3v-1.586l4,4V0.586l-4,4V3z M22,5.414v5.172l-2-2V7.414L22,5.414z"/>
                                        <polygon points="14,7.983 12.5,6.492 11.002,5 11.002,7.983 11.002,10.966 12.5,9.475 "/>
                                        <path d="M2,10c0,1.654,1.346,3,3,3c1.654,0,3-1.346,3-3S6.654,7,5,7C3.346,7,2,8.346,2,10z M5,9c0.552,0,1,0.449,1,1s-0.448,1-1,1
                                            c-0.552,0-1-0.449-1-1S4.448,9,5,9z"/>
                                        <path d="M2,17c0-0.551,0.448-1,1-1h4c0.552,0,1,0.449,1,1v3h2v-3c0-1.654-1.346-3-3-3H3c-1.654,0-3,1.346-3,3v3h2V17z"/>
                                    </svg>
                                    Contributors
                                </a>
                                
                            </li>
                        </ul>
                        <ul class="published-views animations">
                            <li>
                                <svg version="1.1" width="1em" height="1em" id="icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                                viewBox="0 0 22 21.228" style="enable-background:new 0 0 22 21.228;" xml:space="preserve">
                                    <path d="M22,13V3c0-1.654-1.346-3-3-3H3C1.346,0,0,1.346,0,3v10c0,1.654,1.346,3,3,3h3v-2H3c-0.552,0-1-0.449-1-1V3
	                                    c0-0.551,0.448-1,1-1h16c0.552,0,1,0.449,1,1v10c0,0.551-0.448,1-1,1h-5.878l-3.12,2.773V14h-2v7.228L13.882,16H19
	                                    C20.654,16,22,14.654,22,13z"/>
                                    <polygon points="10,4 10,12 14,8 "/>
                                </svg>
                                {{video.viewCount}}
                            </li>
                              
                            <li>
                                <svg version="1.1" width="1em" height="1em" id="icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                                viewBox="0 0 24 24.228" style="enable-background:new 0 0 24 24.228;" xml:space="preserve">
                                    <path d="M21,0H3C1.346,0,0,1.346,0,3v13c0,1.654,1.346,3,3,3h1v5.228L9.88,19H21c1.654,0,3-1.346,3-3V3C24,1.346,22.654,0,21,0z
	                                    M22,16c0,0.551-0.448,1-1,1H9.12L6,19.773V17H3c-0.552,0-1-0.449-1-1V3c0-0.551,0.448-1,1-1h18c0.552,0,1,0.449,1,1V16z"/>
                                    <rect x="5" y="6" width="14" height="2"/>
                                    <rect x="5" y="10" width="9.958" height="2"/>
                                </svg>
                                    <!-- <svg class="bi bi-chat-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M14 1H2a1 1 0 00-1 1v8a1 1 0 001 1h2.5a2 2 0 011.6.8L8 14.333 9.9 11.8a2 2 0 011.6-.8H14a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v8a2 2 0 002 2h2.5a1 1 0 01.8.4l1.9 2.533a1 1 0 001.6 0l1.9-2.533a1 1 0 01.8-.4H14a2 2 0 002-2V2a2 2 0 00-2-2H2z" clip-rule="evenodd"/>
                                      </svg> -->
                                {{video.comments.length}}
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Contributors</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h5 *ngIf="contributors.length==0">No contributors found....</h5>
                <ul class="contributor-list"> 
                    <li *ngFor="let c of contributors">
                        <a [routerLink]="['/public-profile']" [queryParams]="{user:c._id}">
                            <img *ngIf="c.profilepic" src="{{c.profilepic}}" class="contributor-modal">
                            <span class="profile-image" *ngIf="!c.profilepic" imgName  title="{{c.firstname}},{{c.lastname}}" style="border-radius:50%;width: 25px;height: 25px;"></span>
                            {{c.username}}
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>



<!-- Modal for analytics-->
<div class="modal fade" id="anlyticsModal" tabindex="-1" role="dialog" aria-labelledby="anlyticsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="anlyticsModalLabel" style="font-size: 18px;">{{currentItem.Title}}
                    <p style="font-size: 14px;margin-top: 10px;">
                        <b>Total Views:</b> {{currentItem.viewCount}} 
                        <b style="margin-left: 15px">Total Levels:</b> {{currentItem.totallevel}} 
                        <b style="margin-left: 15px">Total Decisions:</b> {{currentItem.totalchild}}</p>
                  
                </h5>
              
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <button *ngIf="isSecond" (click)="resetStats()" class="btn video-common-btn">Go to Beginning</button>
            <div class="modal-body">

            <div *ngIf="topChoices.length < 1" style="text-align: center;padding: 10px;font-size: 16px;">No Decisions!</div>

               <table class="analyticstable" *ngIf="topChoices.length > 0">
                   <thead>
                    <th>Name</th>
                    <th>Preview</th>
                    <th>Level</th>
                    <th>Views</th>
                    <th>Percentage</th>
                </thead>

                   <tbody>
                    
                   <tr *ngFor="let c of topChoices" class="pointer animations" (click)="getChildDetails(c.video._id)">
                    <td>{{c.video.name}}</td>  
                    <td><img src="{{c.video.poster}}" style="width: 100px"/></td>
                    <td>{{c.video.level}}</td>
                    <td>{{c.viewCount}}</td>
                    <td>{{(c.viewCount /currentItem.totalViews * 100).toFixed(1)}} %</td>
                   </tr>
                </tbody>
               </table>
               
            </div>
        </div>
    </div>
</div>

<withoutloginfooter></withoutloginfooter>      
